<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Arcade del Amor ğŸ’˜</title>

<style>
    body {
        margin: 0;
        overflow: hidden;
        font-family: Arial, sans-serif;
        background: black;
        touch-action: none;
    }

    canvas {
        display: block;
        background: linear-gradient(#1a001a, #330033);
    }

    #ui {
        position: fixed;
        bottom: 20px;
        width: 100%;
        display: flex;
        justify-content: center;
        gap: 40px;
        z-index: 10;
    }

    .btnControl {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        border: none;
        font-size: 30px;
        background: rgba(255,255,255,0.2);
        color: white;
    }

    #menuFinal {
        display: none;
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.95);
        justify-content: center;
        align-items: center;
        flex-direction: column;
        text-align: center;
        z-index: 20;
    }

    #menuFinal h1 {
        color: pink;
        font-size: 28px;
        padding: 20px;
    }

    #menuFinal button {
        padding: 15px 25px;
        margin: 10px;
        font-size: 18px;
        border-radius: 10px;
        border: none;
    }

    #si { background: #ff4da6; color: white; }
    #no { background: gray; color: white; position: relative; }
</style>
</head>
<body>

<canvas id="game"></canvas>

<div id="ui">
    <button class="btnControl" id="up">â¬†ï¸</button>
    <button class="btnControl" id="down">â¬‡ï¸</button>
</div>

<div id="menuFinal">
    <h1>Â¿Quieres ser mi novia? ğŸ’–</h1>
    <button id="si">Â¡SÃ­! ğŸ’˜</button>
    <button id="no">No ğŸ™ˆ</button>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

function resizeCanvas(){
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

let player = { x: 50, y: 200, size: 30 };
let obstacles = [];
let score = 0;
let speed = 4;
let gameActive = true;

function createObstacle(){
    let size = 30 + Math.random() * 30;
    obstacles.push({
        x: canvas.width,
        y: Math.random() * (canvas.height - size),
        size: size
    });
}

function update(){
    if(!gameActive) return;

    ctx.clearRect(0,0,canvas.width,canvas.height);

    ctx.fillStyle = "pink";
    ctx.fillRect(player.x, player.y, player.size, player.size);

    obstacles.forEach((obs, i) => {
        obs.x -= speed;
        ctx.fillStyle = "red";
        ctx.fillRect(obs.x, obs.y, obs.size, obs.size);

        if(
            player.x < obs.x + obs.size &&
            player.x + player.size > obs.x &&
            player.y < obs.y + obs.size &&
            player.y + player.size > obs.y
        ){
            location.reload();
        }

        if(obs.x + obs.size < 0){
            obstacles.splice(i,1);
            score++;
        }
    });

    ctx.fillStyle = "white";
    ctx.font = "20px Arial";
    ctx.fillText("Puntos: " + score, 20, 40);

    if(score >= 12){
        endGame();
    }

    requestAnimationFrame(update);
}

function endGame(){
    gameActive = false;
    document.getElementById("menuFinal").style.display = "flex";
}

setInterval(createObstacle, 1000);
update();

/* CONTROLES TÃCTILES */
document.getElementById("up").addEventListener("touchstart", () => {
    if(player.y > 0) player.y -= 40;
});
document.getElementById("down").addEventListener("touchstart", () => {
    if(player.y < canvas.height - player.size) player.y += 40;
});

/* BOTÃ“N NO ESCAPANDO */
const btnNo = document.getElementById("no");
btnNo.addEventListener("touchstart", () => {
    btnNo.style.position = "absolute";
    btnNo.style.top = Math.random() * 80 + "%";
    btnNo.style.left = Math.random() * 80 + "%";
});

/* BOTÃ“N SÃ */
document.getElementById("si").addEventListener("click", () => {
    alert("SabÃ­a que dirÃ­as que sÃ­ ğŸ’ğŸ’–");
});
</script>

</body>
</html>

