<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Arcade del Amor ğŸ’˜</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    body {
        margin: 0;
        overflow: hidden;
        font-family: Arial, sans-serif;
        background: black;
        color: white;
        text-align: center;
    }

    canvas {
        background: linear-gradient(#1a001a, #330033);
        display: block;
        margin: auto;
    }

    #menuFinal {
        display: none;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.9);
        justify-content: center;
        align-items: center;
        flex-direction: column;
    }

    h1 {
        font-size: 40px;
        color: pink;
    }

    button {
        padding: 15px 30px;
        margin: 10px;
        font-size: 18px;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        transition: 0.3s;
    }

    #si {
        background-color: #ff4da6;
        color: white;
    }

    #no {
        background-color: gray;
        color: white;
        position: relative;
    }
</style>
</head>
<body>

<canvas id="gameCanvas" width="600" height="400"></canvas>

<div id="menuFinal">
    <h1>Â¿Quieres ser mi novia? ğŸ’–</h1>
    <button id="si">Â¡SÃ­! ğŸ’˜</button>
    <button id="no">No ğŸ™ˆ</button>
</div>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

let player = { x: 50, y: 180, size: 20, color: "pink" };
let obstacles = [];
let score = 0;
let gameOver = false;

function createObstacle() {
    let size = 20 + Math.random() * 20;
    obstacles.push({
        x: canvas.width,
        y: Math.random() * (canvas.height - size),
        size: size,
        color: "red"
    });
}

function update() {
    if (gameOver) return;

    ctx.clearRect(0, 0, canvas.width, canvas.height);

    ctx.fillStyle = player.color;
    ctx.fillRect(player.x, player.y, player.size, player.size);

    obstacles.forEach((obs, index) => {
        obs.x -= 4;
        ctx.fillStyle = obs.color;
        ctx.fillRect(obs.x, obs.y, obs.size, obs.size);

        if (
            player.x < obs.x + obs.size &&
            player.x + player.size > obs.x &&
            player.y < obs.y + obs.size &&
            player.y + player.size > obs.y
        ) {
            endGame();
        }

        if (obs.x + obs.size < 0) {
            obstacles.splice(index, 1);
            score++;
        }
    });

    ctx.fillStyle = "white";
    ctx.fillText("Puntos: " + score, 10, 20);

    if (score >= 10) {
        endGame(true);
    }

    requestAnimationFrame(update);
}

function endGame(win = false) {
    gameOver = true;
    if (win) {
        document.getElementById("menuFinal").style.display = "flex";
    } else {
        alert("Â¡Perdiste! Intenta otra vez ğŸ’”");
        location.reload();
    }
}

document.addEventListener("keydown", (e) => {
    if (e.key === "ArrowUp" && player.y > 0) player.y -= 20;
    if (e.key === "ArrowDown" && player.y < canvas.height - player.size) player.y += 20;
});

setInterval(createObstacle, 1000);
update();

const btnNo = document.getElementById("no");
btnNo.addEventListener("mouseover", () => {
    btnNo.style.position = "absolute";
    btnNo.style.top = Math.random() * 80 + "%";
    btnNo.style.left = Math.random() * 80 + "%";
});

document.getElementById("si").addEventListener("click", () => {
    alert("SabÃ­a que dirÃ­as que sÃ­ ğŸ’ğŸ’–");
});
</script>

</body>
</html>

